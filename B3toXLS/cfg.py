
import pathlib
PATH = str(pathlib.Path(__file__).parent.resolve())+'/'
PATH_ROOT = str(pathlib.Path(PATH).parent)+'/'
PATH_DATA = '/etc/tekton_data/b3'
PATH_NOTAS = f'{PATH_DATA}/notas'
PATH_PARSED = f'{PATH_NOTAS}/parsed'
FILE_NOTAS = f'{PATH_DATA}/notas.pkl'
FILE_OPER = f'{PATH_DATA}/operacoes.pkl'
FILE_INSTRUMENTOS = f'{PATH_DATA}/b3instruments.csv'
FILE_QANT = f'{PATH_DATA}/posicao_anterior.csv'
FILE_PACUM = f'{PATH_DATA}/prejuizo_acum.csv'


NOTAS_MAP = dict(
    corretagem = 'Total Custos / Despesas',
    liquido = 'Líquido para',
    ir_oper = dict(txt='I.R.R.F. s/ operações', idx = -2,idx_sign = -1,sign=1,
                   second_try=dict(idx = -1, sign=-1)),
    emolumentos = 'Emolumentos',
    tx_oper = 'Taxa Operacional',
    tx_liq = 'Taxa de liquidação',
    tx_reg = 'Taxa de Registro',
    tx_ana = 'Taxa A.N.A.',
    tx_termo_opcoes = 'Taxa de termo/opções',
    execucao = dict(txt = 'Execução', idx = 1) ,
    ir_dt = dict(txt = 'IRRF Day Trade:', idx = -4, sign=-1) ,
    impostos = 'Impostos' ,
    outros = 'Outros',
    liq_operacoes = 'Valor líquido das operações',
    tot_cblc = 'Total CBLC',
    debentures = dict(txt = 'Debêntures', idx = 1),
    opcoes_vendas = dict(txt = 'Opções - vendas', idx = 3),
    opcoes_compras = dict(txt = 'Opções - compras', idx = 3),
    vendas_a_vista = dict(txt = 'Vendas à vista', idx = 3),
    compras_a_vista = dict(txt = 'Compras à vista', idx = 3),
)

SYMBOLS_MAP = {
    'ODONTOPREV ON NM':'ODPV3',
    'FLEURY ON NM':'FLRY3',
    'VALE ON NM':'VALE3',
    'KEPLER WEBER ON NM':'KEPL3',
    'VALEK713 ON 69,73 VALEE':'VALEK713',
    'GAFISA ON NM':'GFSA3',
    'MINERVA ON NM':'BEEF3',
    'VALEW668 ON 65,23 VALEE':'VALEW668',
    'VALEW683 ON 66,73 VALEE FM':'VALEW683',
    'MRV ON NM': 'MRVE3',
    'ENGIE BRASIL ON NM': 'EGIE3',
    'FIAGRO CPTR CI': 'CPTR11',
    'BR PARTNERS UNT N2':  'BRBI11' ,
    'BRASIL ON NM': 'BBAS3',
    'LOCALIZA ON NM': 'RENT3',
    'GERDAU MET PN N1': 'GOAU4',
    'UNIFIQUE ON NM': 'FIQE3',
    'COPASA ON NM': 'CSMG3',
    'TOTVS ON NM': 'TOTS3',
    'MERCADOLIBRE DRN': 'MELI34',
    'ALIANSCSONAE ON NM': 'ALOS3',
    'FIAGRO VCRA CI ER': 'VCRA11',
    'CYRELA REALT ON NM': 'CYRE3',
    'PETRORIO ON NM': 'PRIO3',
    '3R PETROLEUM ON NM': 'RRRP3',
    'BOA SAFRA ON NM': 'SOJA3',
    'AMBIPAR ON NM': 'AMBP3',
    'FIAGRO RURA CI ER': 'RURA11',
    'BBSEGURIDADE ON NM': 'BBSE3',
    'TAESA UNT N2': 'TAEE11',
    'TELEF BRASIL ON': 'VIVT3',
    'CPFL ENERGIA ON NM': 'CPFE3',
    'FIAGRO RIZA CI ER':  'RZAG11',
    'FIAGRO VGIA CI':  'VGIA11',
    '3TENTOS ON NM': 'TTEN3',
    'INTER CO DR2': 'INBR32',
    'FIAGRO BBGO CI ER': 'BBGO11',
    'SANTANDER BR UNT': 'SANB11',
    'FIAGRO CPTR CI ER': 'CPTR11',
    'SIMPAR ON NM': 'SIMH3',
    'FIAGRO RURA CI': 'RURA11',
    'SLC AGRICOLA ON NM': 'SLCE3',
    'FIAGRO BBGO CI': 'BBGO11',
    'FIAGRO RIZA CI': 'RZAG11',
    'BRASILAGRO ON NM': 'AGRO3',
    'FIAGRO VGIA CI ER': 'VGIA11',
    'ITAUUNIBANCO PN EJ N1': 'ITUB4',
    'ITAUUNIBANCO PN N1': 'ITUB4',
    'JALLESMACHAD ON NM': 'JALL3',
    'KLABIN S/A UNT N2': 'KLBN11',

'USIMINAS PNA N1': 'USIM5',
'PETRF55 PN PETR': 'PETRF55',
'LOCALIZA REN ON NM': 'RENT3',
'ITUBA10 PN N1 ITAU UNIBANC': 'ITUBA10',
'BCO BRADESCO PN N1': 'BBDC4',
'LOJAS AMERIC PN': 'LAME4',
'CARREFOUR BR ON NM': 'CRFB3',
'ENBRH45 ON 15,50 ENBR FM': 'ENBRH45',
'PETRL15 PN PETROLEO BRA': 'PETRL15',
'PETRO245 PN 23,75 PETRE': 'PETRO245',
'ITUBL28 PN ED N1 ITAU UNIBANC': 'ITUBL28',
'CESP PNB N1': 'CESP6',
'PETRG262E PN 25,40': 'PETRG262E',
'IRBBRASIL RE ON NM': 'IRBR3',
'TELEF BRASIL PN': 'VIVT4',
'WIZ S.A. ON NM': 'WIZC3',
'ISHARES BOVA CI': 'BOVA11',
'BRADESCO PN N1': 'BBDC4',
'ITUBA10 PN ED N1 ITAU UNIBANC': 'ITUBA10',
'RUMO S.A. ON NM': 'RAIL3',
'RAIADROGASIL ON NM': 'RADL3',
'MINERVA ON ED NM': 'BEEF3',
'SANEPAR PN N2': 'SAPR11',
'QUALICORP ON NM': 'QUAL3',
'ODONTOPREV ON ED NM': 'ODPV3',
'VALID SOLUÇÕ ON NM': 'VLID3',
'LAMEB23 PN 22,94 LAME FM': 'LAMEB23',
'BOVAO78 CI 78,00 BOVAE': 'BOVAO78',
'IGUATEMI ON ED NM': 'IGTA3',
'IT NOW IBOV CI': 'BOVV11',
'ECORODOVIAS ON NM': 'ECOR3',
'VALE S.A. ON NM': 'VALE3',
'PETRB262 PN 25,50 PETRE': 'PETRB262',
'PETRF260 PN 25,48 PETRE': 'PETRF260',
'BR PROPERT ON NM': 'BRPR3',
'CAMIL ON NM': 'CAML3',
'LOJAS RENNER ON NM': 'LREN3',
'BRASKEM PNA N1': 'BRKM5',
'BBDCU260 PN 25,85 BBDCE': 'BBDCU260',
'CIELO ON NM': 'CIEL3',
'ITAUUNIBANCO ON ED N1': 'ITUB3',
'GERDAU S.A. PN N1': 'GGBR4',
'TIM PART S/A ON NM': 'TIMS3',
'BRASIL ON EJ NM': 'BBAS3',
'PETRB15 PN PETROLEO BRA': 'PETRB15',
'PETRF260 PN 25,40 PETRE': 'PETRF260',
'VULCABRAS/AZ ON NM': 'VULC3',
'PETRC261 PN 25,50 PETRE': 'PETRC261',
'TECNISA ON NM': 'TCSA3',
'GUARARAPES ON': 'QUAL3',
'CIA ENERGETI PN N1': 'GUAR3',
'INTERMEDICA ON NM': 'GNDI3',
'MOVIDA ON NM': 'MOVI3',
'ALLIAR ON NM': 'AAL3',
'FIP PERFIN CI ER': 'PFIN11',
'PETRR12 PN PETRE': 'PETRR12',
'ELETROBRAS ON N1': 'ELET6',
'COGNA ON ON NM': 'COGN3',
'PETRE255 PN 25,48 PETRE': 'PETRE255',
'BRADESCO PN EJ N1': 'BBDC4',
'PETRK65 PN PETROLEO BRA': 'PETRK65',
'VALEO38 ON 36,80 VALEE': 'VALEO38',
'CIA ENERGETI PN REC N1': 'CMIG4',
'ITAUSA PN N1': 'ITSA4',
'ITUBJ41 PN ED N1 ITAU UNIBANC': 'ITUBJ41',
'ITUBK76 PN ED N1 ITAU UNIBANC': 'ITUBK76',
'PETRM254 PN 24,75 PETRE': 'PETRM254',
'VULCABRAS ON NM': 'VULC3',
'ITUBB52 PN N1 ITAU UNIBANC': 'ITUBB52',
'PETROBRAS ON N2': 'PETR3',
'BR MALLS PAR ON NM': 'BRML3',
'TECNISA S.A. ON NM': 'TCSA3',
'SAO MARTINHO ON NM': 'SMTO3',
'ESTACIO PART ON ED NM': 'ALUP11' 'ECOR3',
'SMILES ON NM': 'TRPL4',
'ESTACIO PART ON NM': 'YDUQ3',
'CCR SA ON NM': 'CCRO3',
'OI ON N1': 'OIBR3',
'PETRG262 PN 25,40 PETR': 'PETRG262',
'VALEN369 ON NM VALE S.A.': 'VALEN369',
'PORTO SEGURO ON NM': 'PSSA3 ',
'KROTON ON NM': 'COGN3',
'ITAUUNIBANCO ON EDJ N1': 'ITUB3',
'PETRM261 PN 25,50 PETRE': 'PETRM261',
'VALEH496 ON 49,22 VALE': 'VALEH496',
'NEOGRID ON NM': 'NGRD3',
'ITUBB52E PN 38,31': 'ITUBB52E',
'GERDAU PN N1': 'GGBR4',
'EZTEC ON NM': 'EZTC3',
'ITUBO357 PN 35,62 ITUBE FM': 'ITUBO357',
'TENDA ON ED NM': 'TEND3',
'FERBASA PN N1': 'FESA4',
'CARREFOUR BR ON EJ NM': 'CRFB3',
'ISHARE SP500 CI': 'IVVB11',
'PETROBRAS PN N2': 'PETR4',
'IGUATEMI ON NM': 'IGTI3',
'MULTIPLAN ON N2': 'MULT3',
'PETRE255 PN 25,50 PETRE': 'PETRE255',
'LOJAS RENNER ON ED NM': 'LREN3',
'SMILES FIDEL ON NM': 'SMLS3',
'UNIPAR PNB': 'UNIP6',
'TRAN PAULIST PN N1': 'TRPL4',
'NATURA ON NM': 'NTCO3 ',
'BBDCM1 PN N1 BCO BRADESCO': 'BBDCM1',
'ITAUUNIBANCO PN EDJ N1': 'ITUB4',
'PETRA15 PN PETROLEO BRA': 'PETRA15',
'B3 ON NM': 'B3SA3',
'GERDAU PN ED N1': 'GGBR4',
'SLC AGRICOLA ON EDB NM': 'SLCE3',
'LOCALIZA REN ON EJ NM': 'RENT3',
'PETRD261 PN 25,50 PETRE': 'PETRD261',
'B3 ON EB NM': 'B3SA3',
'BOVAM57 CI ISHARES IBOV': 'BOVAM57',
'ISHARES IBOV CI': 'BOVA11',
'MOVIDA PARTI ON NM': 'MOVI3',
'PETRB15E PN 15,00': 'PETRB15E',
'VALEO446 ON 44,63 VALE S.A.': 'VALEO446',
'ITAUUNIBANCO ON N1': 'ITUB3',
'PETRJ15 PN PETROLEO BRA': 'PETRJ15',
'BBASH538 ON 52,76 BBAS FM': 'BBASH538',
'ITAUUNIBANCO PN ED N1': 'ITUB4',
'WIZ SOLUÇÕES ON NM': 'WIZC3',
'PETRC279 PN 27,25 PETR': 'PETRC279',
'ALLOS ON NM':'ALOS3',
    'KLABIN S/A UNT EJ N2':'KLBN11',
    'VALEK733 ON 71,73 VALEE': 'VALEK733',
    'VALEM721 ON 70,54 VALEE FM':'VALEM721',
 'VALEK723 ON 70,73 VALEE':'VALEK723',
 'VALEM721 ON 68,32 VALEE /EDJ':'VALEM721',
 'VALE ON EDJ NM':'VALE3',
 'BOA SAFRA ON EJ NM':'SOJA3',
 'VALEX711 ON 69,53 VALEE FM':'VALEX711',
 'FIAGRO SUNO CI':'SNAG11',
'SANEPAR UNT N2':'SAPR11',
'VALEX766 ON 72,81 VALEE FM': 'VALEX766',
 'VALEA806 ON 76,82 VALEE': 'VALEA806',
 'GGBRM228 PN 22,35 GGBRE FM': 'GGBRM228',
 'VALEX736 ON 69,81 VALEE FM': 'VALEX736',
 'VALEA791 ON 75,32 VALE': 'VALEA791',
'VITTIA ON NM': 'VITT3',
 'TOTVS ON EJ NM': 'TOTS3',
 'GRUPO SOMA ON NM': 'SOMA3',
 'CYRELA REALT ON ED NM': 'CYRE3',
 'ORIZON ON NM': 'ORVR3',
 'GERDAU MET PN ED N1': 'GOAU4',
 'BR PARTNERS UNT ED N2': 'BRBI11',
 'LAVVI ON ED NM': 'LAVV3',
 'COPASA ON ED NM': 'CSMG3',
 'PETRORIO ON ATZ NM': 'PRIO3',
 'BRASIL ON EDJ NM': 'BBAS3'

}

TAXAS = dict(
    negociacao = dict(vista = 0.00005, opcao = 0.00037, vista_dt = 0.00005, opcao_dt = 0.00037),
    liquidacao = dict(vista = 0.00025, opcao = 0.000275, vista_dt = 0.00018, opcao_dt = 0.00018),
    registro = dict(vista = 0., opcao = 0.000695, vista_dt = 0., opcao_dt = 0.00015),
)